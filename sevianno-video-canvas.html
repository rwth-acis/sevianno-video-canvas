<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../components/core-icon-button/core-icon-button.html">
<link rel="import" href="../bower_components/polymer/polymer.html">


<polymer-element name="sevianno-video-canvas" attributes="pad sourceVideo widthVideo heightVideo preloadVideo">
  <template>
   <div id= "content-container" >
	<div class="canvas-container">
		<canvas id="outer-canvas" height={{canvasHeight}} width={{canvasWidth}} style="border: 1px solid rgb(170, 170, 170);  left: 10px; top: 10px; -moz-user-select: none; cursor: crosshair;" class="outer-canvas"></canvas>
	</div>
	<div id="video-container" style="margin-top:{{videoMarginTop}}px; display: block;">
		<video id="video" width={{widthVideo}} height={{heightVideo}} preload={{preloadVideo}} src={{sourceVideo}} ></video> 
	</div>
	
	</div>
	<div id="video-controls" class="{{theme}}">
		<button type="button" id="playpause" class="play" on-click="{{playPause}}">Play</button>
	</div>
<!-- 
    <core-icon-button
      id="favicon"
      icon="favorite"
      on-tap="{{favoriteTapped}}">
    </core-icon-button>
 -->


  </template>
  <script src="fabric/dist/fabric.js"></script>
	<script>
		Polymer({
		width: '320',
		height: '240',
		src:'http://golovin.de/ba/parking.mp4',
		padding:'3',
		ready: function() {
		var video = this.video = this.$.video;
		},
		computed: {
        canvasWidth: 'widthVideo/1 + pad/1',
		canvasHeight: 'heightVideo/1 + pad/1',
		videoMarginTop: 'heightVideo/(-1)- pad/1',
		},
		playPause: function () {
		if (this.video.paused == true) {
		// Play the video
		this.video.play();
		// Update the button text to 'Pause'
		this.$.playpause.innerHTML = "Pause";
		} else {
		// Pause the video
		this.video.pause();
		// Update the button text to 'Play'
		this.$.playpause.innerHTML = "Play";
		}
		},
		fullscreen: function () {
		if (this.video.requestFullscreen) {
		this.video.requestFullscreen();
		} else if (this.video.mozRequestFullScreen) {
		this.video.mozRequestFullScreen(); // Firefox
		} else if (video.webkitRequestFullscreen) {
		this.video.webkitRequestFullscreen(); // Chrome and Safari
		}
		},
		
		});
	</script>
</polymer-element>